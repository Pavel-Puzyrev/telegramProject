## API для анализа данных чатов Telegram

### Описание

Этот проект представляет собой REST API, разработанный на FastAPI, для загрузки, хранения и анализа данных из чатов Telegram. API взаимодействует с базой данных PostgreSQL для хранения информации о сообщениях, пользователях, чатах и других сущностях. 

### Функциональность

#### Загрузка данных

- **POST /api/v1/chat/write**: Загрузка JSON-файла, содержащего данные чата Telegram. 
    - Проверяет валидность JSON-файла.
    - Запускает фоновую задачу для обработки и сохранения данных в базе данных.

#### Получение данных

- **GET /api/v1/chat/get-chat-list**: Возвращает список доступных идентификаторов (ID) чатов.
- **GET /api/v1/data/get-users**: Возвращает список всех пользователей, найденных в загруженных чатах.

#### Анализ данных

- **GET /api/v1/data/count-messages**: Подсчитывает количество сообщений, отправленных определенным пользователем в заданном временном диапазоне.
- **GET /api/v1/data/count-messages-per-hour**: Подсчитывает количество сообщений, отправленных определенным пользователем в каждый час заданного временного диапазона.
- **PUT /api/v1/data/count-word**: Анализирует сообщения определенного пользователя:
    - Считает общее количество сообщений.
    - Считает общее количество слов.
    - Вычисляет среднее количество слов в сообщении.
- **GET /api/v1/data/count-messages-for-24-hours**: Подсчитывает количество сообщений, отправленных в каждый час суток (0-23) в заданном временном диапазоне.

#### Удаление данных

- **DELETE /api/v1/chat/delete-chat-by-id**: Удаляет чат и все связанные с ним сообщения по его ID.


### Структура проекта

- **`src/app/main.py`**: Точка входа в приложение, содержит конфигурацию FastAPI.
- **`src/app/api/`**: Содержит логику API, разделенную на модули:
    - **`endpoints/`**: Реализует конечные точки API (endpoints).
        - `chat.py`: Обработчики запросов, связанных с чатами.
        - `data.py`: Обработчики запросов для получения и анализа данных.
- **`src/app/repositories/`**: Содержит репозитории для взаимодействия с базой данных.
- **`src/app/schemas/`**: Описывает Pydantic модели.
- **`src/app/db/`**: Содержит функции для настройки и подключения к базе данных, модели SQLAlchemy для таблиц базы данных.
- **`src/app/deps/`**: Определяет зависимости FastAPI (например, получение сессии БД).
- **`src/app/util/`**: Вспомогательные утилиты и функции.


